<!DOCTYPE html>
<html>

<head>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="shortcut icon" href="img/[view].ico" type="image/x-icon">

	<link rel="stylesheet" href="css/live-read.css" />
	<link rel="stylesheet" href="css/live-write.css" />

	<script type="module" src="js/live-write.js"></script>

	<title data-live="page">[page.title]</title>
</head>

<body>
	<div id="gui">
		<div class="toolbar article">
			<button type="button" name="del" class="btn" title="Supprimer le message">Supprimer</button>
			<select name="style">
				<option value="">Commentaire</option>
				<option value="essentiel">Essentiel</option>
				<option value="pinned">Épinglé</option>
			</select>
			<button type="reset" class="btn" title="Annuler les modifications en cours">Annuler</button>
			<button type="submit" class="btn" title="Publier le message">Valider</button>
		</div>
	</div>
	<div id="live">
		<div id="live-messages" class="live-messages" data-live="page">
			<header>
				<div class="live-controls">
					<div class="filter">
						<label>
							<input type="radio" name="filter" value="all" checked="checked" />
							<span>TOUT LE LIVE</span>
						</label>
						<label>
							<input type="radio" name="filter" value="essentiel" />
							<span>LES ESSENTIELS</span>
						</label>
					</div>
					<div class="sort">
						<label>
							<input type="checkbox" name="reverse" value="yes" />
							<span>ORDRE DES POSTS</span>
						</label>
					</div>
				</div>
				<div class="live-status">
					<template data-mode="replace">
						<p class="before [page|when:before|ifAt:*]">A VENIR : Début du direct : <time class="stamp"
								datetime="[page.start|date:iso]">[page.start|date:cal]</time></p>
						<p class="during [page|when:during|ifAt:*]">EN COURS : Mis à jour <time class="stamp"
								datetime="[page.update|date:iso]">[page.update|datetime]</time></p>
						<p class="after [page|when:after|ifAt:*]">TERMINE : Fin du direct : <time class="stamp"
								itemprop="[page|when:after|and:coverageEndTime]" datetime="[page.stop|date:iso]">[page.stop|date:cal]</time></p>
					</template>
				</div>
				<div class="hide">
					<div id="blogPublisher" itemscope itemprop="publisher" itemtype="https://schema.org/Organization">
						<meta itemprop="name" content="Le Figaro">
						<div itemscope="" itemprop="logo" itemtype="https://schema.org/ImageObject">
							<meta itemprop="url" content="https://a.f1g.fr/assets-img/i/f/m150.png">
							<meta itemprop="width" content="150">
							<meta itemprop="height" content="150">
						</div>
					</div>
				</div>
			</header>
			<div class="live-list">
				<template data-mode="insert">
					<article is="edit-article" id="[page.messages|repeat:*:msg|place:before|id]"
						class="live-message [msg.style|trackUi:] [msg.mark|and:|or:no-live-icons]" itemprop="liveBlogUpdate" itemscope
						itemtype="https://schema.org/BlogPosting" itemref="blogPublisher blogAuthor">
						<meta itemprop="url" content="[page.backtrack|or:]#[msg.id]" />
						<meta itemprop="dateModified" content="[msg.update|date:iso]" />
						<meta itemprop="mainEntityOfPage" content="[page.backtrack]" />
						<time name="date" is="edit-time" itemprop="datePublished" class="live-time"
							datetime="[msg.date|date:iso]">[msg.date|date:rel]</time>
						<h2 name="title" is="edit-text" itemprop="headline" class="live-title">[msg.title]</h2>
						<div name="mark" is="edit-html" class="live-icons">[msg.mark|as:html]</div>
						<div name="text" is="edit-html" class="live-article" itemprop="articleBody">
							[msg.text|as:html|procrastify:]
						</div>
					</article>
				</template>
			</div>
		</div>
	</div>
	<div id="control">
		<header data-live="page">
			<template data-mode="replace">
				<h1>
					<img src="[shortcut-icon]" />
					<a href="[page.backtrack]" target="_blank">[page.title]</a>
				</h1>
				<form>
					<label>Activer le live</label>
					<label class="switch-light switch-material" onclick="" id="toggle-live-status">
						<input type="checkbox" name="status" value="on" checked="[page|when:during]" />
						<span>
							<span>Arrêté</span>
							<span>En cours</span>
							<a></a>
						</span>
					</label>
					<br>
					<label class="[page|when:before|and:hide|or:]">
						<span>Ouvert le</span>
						<input readonly type="text" name="start"
							value="[page.start|date:iso]" size="18" />
					</label><br />
					<label class="[page|when:before|and:hide|or:]">
						<span>Fermé le</span>
						<input readonly type="text" name="stop"
							value="[page.stop|date:iso]" size="18" placeholder="En cours" />
					</label>
				</form>
			</template>
		</header>
		<div data-live="assets" class="ressources">
			<div class="upload">Charger une image</div>
			<form class="post" method="post" enctype="multipart/form-data" hidden action="assets">
				<input type="file" name="file" />
			</form>
			<a class="new" placeholder="Coller une adresse ou du html" contenteditable="true"></a>

			<select class="filter" name="type" multiple>
				<option data-placeholder="true">filtrer par...</option>
				<option value="image">image</option>
				<option value="video">vidéo</option>
				<option value="embed">embed</option>
				<option value="link">lien</option>
				<option value="icon">icônes</option>
			</select>
			<template data-mode="insert">
				<a is="edit-asset"
					id="[assets.assets|repeat:*:it|place:before|id]"
					href="[it.url]"
					class="[it.meta.type|classIcon:]"
					data-title="[it.meta.title]"
					data-description="[it.meta.description]"
					data-html="[it.meta.html]"
				>
					<div class="header">
						<img src="[it.meta.icon|orAt:*]" class="favicon" />
						<span>[it.meta.title]</span>
						<button name="del">✕</button>
					</div>
					<div class="meta">
						[it.meta.mime]
						<em>([it.meta.size|orAt:*|units:])</em>
						<span>[it.meta.width|orAt:*][it.meta.height|pre:x]px</span><br>
						[it.date|date:rel]
						<p>[it.meta.description|orAt:*]</p>
					</div>
					<div class="thumbnail">
						<img src="[it.meta.thumbnail|orAt:*]" />
					</div>
				</a>
			</template>
		</div>
		<div id="asset-editor" class="live-messages">
			<div class="title">
				<i></i>
				<p class="url"></p>
				<p class="error">Format&nbsp;non&nbsp;reconnu</p>
			</div>
			<fieldset class="image">
				<label>Légende<br />
					<input name="legende" placeholder="pas de légende" /></label>
				<label>Crédits<br />
					<input name="credits" placeholder="pas d'auteur" /></label>
			</fieldset>
			<fieldset class="link">
				<label>URL<br />
					<input name="url" placeholder="http://" /></label>
				<label>Légende<br />
					<input name="legende" placeholder="pas de légende - affiche l'url" /></label>
			</fieldset>
			<fieldset class="link">
				<legend>Target</legend>
				<label><input name="style" type="radio" value="_blank" checked /><span>Blank</span></label>
				<label><input name="style" type="radio" value="_self" /><span>Self</span></label>
			</fieldset>
			<fieldset class="iframe video">
				<legend>Ratio</legend>
				<label title="non responsif"><input name="style" type="radio" value="" checked /><span>fixe</span></label>
				<label><input name="style" type="radio" value="ratio-16-9" /><span>16/9</span></label>
				<label><input name="style" type="radio" value="ratio-4-3" /><span>4/3</span></label>
			</fieldset>
			<div class="content live-article"></div>
			<div class="toolbar">
				<button type="button" disabled name="delete" class="btn" title="Supprimer la ressource"><i class="fas fa-trash"></i>
					Supprimer</button>
				<button type="button" name="cancel" class="btn" title="Annuler les modifications en cours"><i
						class="fas fa-remove"></i> Annuler</button>
				<button type="button" disabled name="publish" class="btn" title="Enregistrer la ressource"><i class="fas fa-ok"></i>
					Valider</button>
			</div>
		</div>
	</div>
	<div class="notification" id="errors"
		data-transport="Erreur de connexion"
		data-join="Connecté"
		data-server="Erreur serveur %d"
		data-client="Echec de la requête"
		data-auth="Permission refusée - rouvrir la page depuis le BO site"
		data-unknown="Erreur - veuillez recharger la page">
		<div class="btn icon">
			<i class=" btn fas fa-warning-sign"></i>
		</div>
		<div class="btn icon close">
			<i class="btn fas fa-remove"></i>
		</div>
		<div class="content">
			<p class="message">[errors|reverse:|repeat:*|message]</p>
		</div>
	</div>
</body>

</html>
