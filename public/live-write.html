<!DOCTYPE html>
<html>

<head>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="shortcut icon" href="img/[view].ico" type="image/x-icon">

	<link rel="stylesheet" href="css/live-read.css" />
	<link rel="stylesheet" href="css/live-write.css" />

	<script type="module" src="js/live-write.js"></script>

	<title data-live="page">[page.title]</title>
</head>

<body>
	<div id="gui">
		<div class="toolbar article">
			<button type="button" name="del" class="btn" title="Supprimer le message">Supprimer</button>
			<select name="style">
				<option value="">Commentaire</option>
				<option value="essentiel">Essentiel</option>
				<option value="pinned">Épinglé</option>
			</select>
			<button type="reset" class="btn" title="Annuler les modifications en cours">Annuler</button>
			<button type="submit" class="btn" title="Publier le message">Valider</button>
		</div>
	</div>
	<div id="live">
		<div id="live-messages" class="live-messages" data-live="page">
			<header>
				<div class="live-controls">
					<div class="filter">
						<label>
							<input type="radio" name="filter" value="all" checked="checked" />
							<span>TOUT LE LIVE</span>
						</label>
						<label>
							<input type="radio" name="filter" value="essentiel" />
							<span>LES ESSENTIELS</span>
						</label>
					</div>
					<div class="sort">
						<label>
							<input type="checkbox" name="reverse" value="yes" />
							<span>ORDRE DES POSTS</span>
						</label>
					</div>
				</div>
				<div class="live-status">
					<template data-mode="replace">
						<p class="before [page|when:before|ifAt:*]">A VENIR : Début du direct : <time class="stamp"
								datetime="[page.start|date:iso]">[page.start|date:cal]</time></p>
						<p class="during [page|when:during|ifAt:*]">EN COURS : Mis à jour <time class="stamp"
								datetime="[page.update|date:iso]">[page.update|date:cal]</time></p>
						<p class="after [page|when:after|ifAt:*]">TERMINE : Fin du direct : <time class="stamp"
								itemprop="[page|when:after|and:coverageEndTime]" datetime="[page.stop|date:iso]">[page.stop|date:cal]</time></p>
					</template>
				</div>
				<div class="hide">
					<div id="blogPublisher" itemscope itemprop="publisher" itemtype="https://schema.org/Organization">
						<meta itemprop="name" content="Le Figaro">
						<div itemscope="" itemprop="logo" itemtype="https://schema.org/ImageObject">
							<meta itemprop="url" content="https://a.f1g.fr/assets-img/i/f/m150.png">
							<meta itemprop="width" content="150">
							<meta itemprop="height" content="150">
						</div>
					</div>
				</div>
			</header>
			<div class="live-list">
				<template data-mode="insert">
					<article is="edit-article" id="[page.messages|blank:push:date=now|repeat:*:msg:place|id]"
						class="live-message [msg.style|trackUi:] [msg.mark|and:|or:no-live-icons]" itemprop="liveBlogUpdate" itemscope
						itemtype="https://schema.org/BlogPosting" itemref="blogPublisher blogAuthor">
						<meta itemprop="url" content="[page.backtrack|or:]#[msg.id]" />
						<meta itemprop="dateModified" content="[msg.update|date:iso]" />
						<meta itemprop="mainEntityOfPage" content="[page.backtrack]" />
						<time name="date" is="edit-time" itemprop="datePublished" class="live-time"
							datetime="[msg.date|date:iso]">[msg.date|date:rel|as:text]</time>
						<h2 name="title" is="edit-title" itemprop="headline" class="live-title">[msg.title]</h2>
						<div name="mark" is="edit-mark" class="live-icons">[msg.mark|as:html]</div>
						<div name="text" is="edit-text" class="live-article" itemprop="articleBody">[msg.text|as:html|importAssets:]</div>
					</article>
				</template>
			</div>
		</div>
	</div>
	<div id="control">
		<header data-live="page">
			<template data-mode="replace">
				<a href="[page.backtrack]" target="_blank" class="tiled">
					<img src="[shortcut-icon|orAt:*]" />
					[page.title]
				</a>
				<form is="edit-status">
					<div class="tiled start active">
						Commencer<br>le live[page|when:before|ifAt:div]
					</div>
					<div class="tiled start">
						Commencé<br>[page.start|then:date:cal|orAt:div]
					</div>
					<label class="toggle-switch">
						<input name="status" value="on" checked="[page|when:during]" id="live-status" type="checkbox" />
						<label for="live-status"></label>
					</label>
					<div class="tiled stop active">
						Terminer<br>le live[page|when:during|ifAt:div]
					</div>
					<div class="tiled stop">
						Terminé<br>[page.stop|then:date:cal|orAt:div]
					</div>
				</form>
			</template>
		</header>
		<div data-live="assets" id="resources">
			<form is="edit-upload" method="post" enctype="multipart/form-data" action="assets" class="tile icon">
				<input placeholder="Charger une image" type="file" name="file" class="tiled" />
			</form>
			<form is="edit-paste" method="post" action="assets">
				<input placeholder="Coller une url" class="tiled" />
			</form>
			<form is="edit-filter" method="get">
				<label><input name="link" type="checkbox" /><span>Lien</span></label>
				<label><input name="image" type="checkbox" /><span>Image</span></label>
				<label><input name="video" type="checkbox" /><span>Vidéo</span></label>
				<label><input name="embed" type="checkbox" /><span>Embed</span></label>
				<label><input name="icon" type="checkbox" /><span>Picto</span></label>
			</form>
			<template data-mode="insert">
				<live-asset
					class="[it.meta.type|classIcon:]"
					id="[assets.assets|repeat:*:it:place|id]"
					data-url="[it.url]"
					data-title="[it.meta.title]"
					data-html="[it.meta.html]"
					data-type="[it.meta.type]"
					data-icon="[it.meta.icon]"
				>
					<div class="header">
						<img src="[it.meta.icon|orAt:*]" class="favicon" />
						<a href="[it.url]">[it.meta.title]</a>
						<button name="del">✕</button>
					</div>
					<div class="meta">
						<strong>[it.meta.type]</strong> ([it.meta.mime|subtype:])
						<em>([it.meta.size|orAt:*|units:])</em>
						<span>[it.meta.width|orAt:*][it.meta.height|pre:x]px</span><br>
						[it.date|date:rel]
						<p>[it.meta.description|orAt:*]</p>
					</div>
					<div class="thumbnail">
						<img src="[it.meta.thumbnail|orAt:**]" />
					</div>
				</live-asset>
			</template>
		</div>
		<div id="asset-editor" class="live-messages">
			<div class="title">
				<i></i>
				<p class="url"></p>
				<p class="error">Format&nbsp;non&nbsp;reconnu</p>
			</div>
			<fieldset class="image">
				<label>Légende<br />
					<input name="legende" placeholder="pas de légende" /></label>
				<label>Crédits<br />
					<input name="credits" placeholder="pas d'auteur" /></label>
			</fieldset>
			<fieldset class="link">
				<label>URL<br />
					<input name="url" placeholder="http://" /></label>
				<label>Légende<br />
					<input name="legende" placeholder="pas de légende - affiche l'url" /></label>
			</fieldset>
			<fieldset class="link">
				<legend>Target</legend>
				<label><input name="style" type="radio" value="_blank" checked /><span>Blank</span></label>
				<label><input name="style" type="radio" value="_self" /><span>Self</span></label>
			</fieldset>
			<fieldset class="iframe video">
				<legend>Ratio</legend>
				<label title="non responsif"><input name="style" type="radio" value="" checked /><span>fixe</span></label>
				<label><input name="style" type="radio" value="ratio-16-9" /><span>16/9</span></label>
				<label><input name="style" type="radio" value="ratio-4-3" /><span>4/3</span></label>
			</fieldset>
			<div class="content live-article"></div>
			<div class="toolbar">
				<button type="button" disabled name="delete" class="btn" title="Supprimer la ressource"><i class="fas fa-trash"></i>
					Supprimer</button>
				<button type="button" name="cancel" class="btn" title="Annuler les modifications en cours"><i
						class="fas fa-remove"></i> Annuler</button>
				<button type="button" disabled name="publish" class="btn" title="Enregistrer la ressource"><i class="fas fa-ok"></i>
					Valider</button>
			</div>
		</div>
	</div>
	<div class="notification" id="errors"
		data-transport="Erreur de connexion"
		data-join="Connecté"
		data-server="Erreur serveur %d"
		data-client="Echec de la requête"
		data-auth="Permission refusée - rouvrir la page depuis le BO site"
		data-unknown="Erreur - veuillez recharger la page">
		<div class="btn icon">
			<i class=" btn fas fa-warning-sign"></i>
		</div>
		<div class="btn icon close">
			<i class="btn fas fa-remove"></i>
		</div>
		<div class="content">
			<p class="message">[errors|reverse:|repeat:*|message]</p>
		</div>
	</div>
</body>

</html>
